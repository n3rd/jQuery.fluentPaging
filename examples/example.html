<!DOCTYPE html>
<html>
<head>
    <title>Fluent Paging Demo</title>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css" rel="stylesheet">
    <style type="text/css">
        #loader {
            position: fixed;
            bottom: 0;
            left: 50%;
            width: 500px;
            margin-left: -250px;
        }
    </style>
</head>
<body>

    <div id="loader">
        <div class="progress progress-striped active">
            <div class="bar" style="width: 100%;">Loading next page ...</div>
        </div>
    </div>

    <div id="content" class="container"></div>


    <div class="container">
        <a id="next" class="btn btn-large btn-block btn-primary" href="#">
            More...
        </a>
    </div>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="../src/jquery.fluentpaging.js"></script>
    <script>
        $(function () {
            $(window).fluentPaging({
                debug: true,
                bottom: 100,
                loaderSelector: '#loader',
                nextPageSelector: '#next',
                prefill: true,
                callback: function (page) {
                    return $.get('nextpage.html?page=' + page, function (html) {
                        $('#content').append(html);
                    }).then(function () {
                        var def = $.Deferred();

                        if (page >= 10)
                            def.reject();
                        else
                            def.resolve();

                        return def;
                    });
                }
            });

            $('#next').on('click', function () {
                return false;
            });
        });
    </script>
</body>
</html>
